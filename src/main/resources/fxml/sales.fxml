<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>

<BorderPane xmlns="javafx.com"
            xmlns:fx="javafx.com"
            fx:controller="com.shailu.deposito_dental_pos.controller.SalesController"
            fx:id="mainContainer"
            styleClass="main-container">

    <top>
        <fx:include source="menuBar.fxml"/>
    </top>

    <left>
        <VBox spacing="15" prefWidth="300" styleClass="form-panel">
            <Label text="BÃºsqueda de Producto" styleClass="section-title"/>

            <VBox spacing="5">
                <Label text="Escanear"/>
                <TextField fx:id="searchProduct" promptText="ðŸ” CÃ³digo"
                           styleClass="search-field"/>
            </VBox>

            <Separator/>

            <VBox spacing="10">
                <VBox spacing="5">
                    <Label text="CÃ³digo del Producto"/>
                    <TextField fx:id="txtCode"/>
                </VBox>
                <VBox spacing="5">
                    <Label text="Nombre del Producto"/>
                    <TextField fx:id="txtName"/>
                </VBox>
                <VBox spacing="5">
                    <Label text="Descripcion"/>
                    <TextField fx:id="txtDesc" editable="false" styleClass="read-only-field"/>
                </VBox>

                <VBox spacing="5">
                    <Label text="Precio"/>
                    <TextField fx:id="txtPrice" editable="false" styleClass="read-only-field"/>
                </VBox>

                <VBox spacing="5">
                    <Label text="Cantidad"/>
                    <TextField fx:id="txtQuantity" promptText="0"/>
                </VBox>

                <Button text="AGREGAR (Enter)" fx:id="btnAddProduct"
                        maxWidth="Infinity" prefHeight="45" styleClass="btn-add"/>
            </VBox>
        </VBox>
    </left>

    <!-- CENTRO: Table of products -->
    <center>
        <VBox spacing="10" style="-fx-padding: 0 15 15 15;">
            <Label text="Detalle de Venta" styleClass="section-title" style="-fx-padding: 10 0;"/>
            <TableView fx:id="tableSales" VBox.vgrow="ALWAYS" styleClass="sales-table">
                <columns>
                    <TableColumn fx:id="colName" text="Nombre" prefWidth="100"/>
                    <TableColumn fx:id="colDesc" text="DescripciÃ³n" prefWidth="250"/>
                    <TableColumn fx:id="colPrice" text="Precio Unit." prefWidth="100"/>
                    <TableColumn fx:id="colQty" text="Cant." prefWidth="70"/>
                    <TableColumn fx:id="colSubtotal" text="Subtotal" prefWidth="100"/>
                </columns>
            </TableView>
        </VBox>
    </center>


    <right>
        <VBox spacing="15" prefWidth="300" styleClass="checkout-panel">
            <Label text="Resumen" styleClass="panel-title"/>
            <!-- Customer section -->
            <VBox spacing="8" style="-fx-background-color: #f8f9fa; -fx-padding: 10; -fx-background-radius: 5;">
                <Label text="CLIENTE" style="-fx-font-weight: bold; -fx-font-size: 11px;"/>
                <TextField fx:id="txtCustomerSearch" promptText="ðŸ” Buscar cliente..." styleClass="search-field"/>
                <Label fx:id="lblSelectedCustomer" text="PÃºblico General" wrapText="true"
                       style="-fx-text-fill: #2c7be5; -fx-font-size: 13px; -fx-font-weight: bold;"/>
            </VBox>
            <Separator/>

            <!-- payment and extra fields -->
            <VBox spacing="10">
                <VBox spacing="5">
                    <Label text="MÃ©todo de Pago" style="-fx-font-weight: bold;"/>
                    <ComboBox fx:id="cbPaymentType" maxWidth="Infinity" promptText="Seleccionar..."/>
                </VBox>

                <VBox spacing="5">
                    <Label text="Estado de Venta" style="-fx-font-weight: bold;"/>
                    <ComboBox fx:id="cbStatus" maxWidth="Infinity" promptText="Seleccionar..."/>
                </VBox>

                <VBox spacing="5">
                    <Label text="Notas / Observaciones" style="-fx-font-weight: bold;"/>
                    <TextArea fx:id="txtNotes" prefHeight="60" promptText="Notas adicionales..." wrapText="true"/>
                </VBox>
            </VBox>

            <Separator/>

            <VBox spacing="5" styleClass="total-container">
                <Label text="TOTAL A PAGAR" style="-fx-text-fill: white;"/>
                <Label fx:id="lblTotal" text="0.00" styleClass="total-amount"/>
            </VBox>

            <Button text="FINALIZAR VENTA" maxWidth="Infinity" styleClass="btn-pay" prefHeight="60" onAction="#finalizeSale"/>
            <Button text="Cancelar" maxWidth="Infinity" styleClass="btn-cancel" onAction="#cancelSale"/>
        </VBox>
    </right>

</BorderPane>
